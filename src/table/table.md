| 模块                                                                                                                               | 方法                   | 接口含义                                                                                                                                                    | 使用示例                                                                                                                                                                                                                                                                                                                                                                                      |
| ---------------------------------------------------------------------------------------------------------------------------------- | ---------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Storage                                                                                                                            | readFile               | 从文件中读取数据                                                                                                                                            | Adapter\.Storage\.readFile\('test\.txt'\)\.then\(\(res\) =>\(this\.readfileValue ='x=' \+ JSON\.stringify\(res\.x\) \+ '; y=' \+ JSON\.stringify\(res\.y\)\)\)\.catch\(\(err\) => \(this\.readfileValue = JSON\.stringify\(err\)\)\)                                                                                                                                                          |
|                                                                                                                                    | writeFile              | 写数据到文件                                                                                                                                                | Adapter\.Storage\.writeFile\('test\.txt', \{x: 1,y: '放   假   了&  开   心',\}\)\.then\(\(res\) => \{this\.writefileValue = JSON\.stringify\(res\)\}\)                                                                                                                                                                                                                                       |
|                                                                                                                                    | readLocal              | 读取 app 本地变量：一般用来各业务之间传递数据，如读取登录状态、交易账户等                                                                                   | Adapter\.Storage\.readLocal\('tfrom', \(ret\) => \{this\.readLocalValue = JSON\.stringify\(ret\.data\)\}\)                                                                                                                                                                                                                                                                                    |
|                                                                                                                                    | writeLocal             | 写入/更新  app 本地变量                                                                                                                                     | Adapter\.Storage\.writeLocal\('colorstyle', true, function\(res\) \{self\.writeLocalValue = JSON\.stringify\(res\)\}\)                                                                                                                                                                                                                                                                        |
|                                                                                                                                    | readMemory             | 从内存中读数据；微信小程序里不支持 readMemory 函数；站外 h5 存储 sessionStorage；站内使用 reqreadmap                                                        | Adapter\.Storage\.readMemory\('test', \(ret\) => \{this\.readMemoryValue = JSON\.stringify\(ret\.data\)\}\)                                                                                                                                                                                                                                                                                   |
|                                                                                                                                    | writeMemory            | 写数据到内存，一般用作数据临时缓存                                                                                                                          | Adapter\.Storage\.writeMemory\('test', '测   试  &  中   文', \(res\) =>\{this\.writeMemoryValue = JSON\.stringify\(res\)\}\)                                                                                                                                                                                                                                                                 |
| Router                                                                                                                             | redirectTo             | 页面重定向（关闭当前页面，在当前的 webview 容器中打开新的 url）站内使用 action1964;  站外使用普通 href 设定 window\.location\.href                          | Adapter\.Router\.redireactTo\("/test/test\.html"\)                                                                                                                                                                                                                                                                                                                                            |
|                                                                                                                                    | navigateTo             | 打开新的页面（当前页面不变，在新的 webview 容器中打开 url），站外是新窗口打开 window\.open，站内是新开 webview,action 10061                                 | Adapter\.Router\.navigateTo\("/test/test\.html"\)                                                                                                                                                                                                                                                                                                                                             |
|                                                                                                                                    | back                   | 页面返回; history\.go                                                                                                                                       | Adapter\.Router\.back\(1\)                                                                                                                                                                                                                                                                                                                                                                    |
|                                                                                                                                    | close                  | 关闭页面（会关闭 webview 容器）;站内是调用的 action3413,                                                                                                    | Adapter\.Router\.close\(\)                                                                                                                                                                                                                                                                                                                                                                    |
|                                                                                                                                    | openRNPage             | 打开 RN 页面  \(仅站内支持\)                                                                                                                                | Adapter\.Router\.openRNPage\(\{bundle: 'zlgstockbottom',module: 'stockbottom',params: \{market: 'us_stock',stockCode: 'BABA',marketCode: '24384',\},\}\)                                                                                                                                                                                                                                      |
|                                                                                                                                    | openAppModule          | 打开原生模块\(仅站内支持\)                                                                                                                                  | Adapter\.Router\.openAppModule\(\{ action: 83008 \}\)                                                                                                                                                                                                                                                                                                                                         |
| Version                                                                                                                            | getAppVersion          | 获取版本号字符串。取版本号统一用这个函数来取。  不会重复去取\(仅站内支持\)                                                                                  | this\.appVersion = await Adapter\.Version\.getAppVersion\(\)                                                                                                                                                                                                                                                                                                                                  |
| Request                                                                                                                            | sendHttpRequest        | http 请求数据                                                                                                                                               | Adapter\.Request\.sendHttpRequest\(\{url: 'http://gb\.zhangle\.com:8443/info/qqt/us_stock/stock_price',method: 'post',headers: \{'Content\-Type': 'application/x\-www\-form\-urlencoded',\},params: \{code: 'BABA',marketCode: '24384',\},\}\)\.then\(\(res\) => \{this\.httpResponse = JSON\.stringify\(res\.data\)\}\)\.catch\(\(err\) => \{this\.httpResponse = JSON\.stringify\(err\)\}\) |
|                                                                                                                                    | sendMobilestockRequest | mobilestock 请求数据；对 reqxml 错误码进行了处理，正常的返回 BINDATA,失败的返回 ERRORMESSAGE                                                                | try \{let data = await Adapter\.Request\.sendMobilestockRequest\(27006,'/financing/channel/v3/current_finance',\{\}\)this\.mobilestockResponse = JSON\.stringify\(data\)\} catch \(e\) \{this\.mobilestockResponse = '请求失败：' \+ JSON\.stringify\(e\)\}                                                                                                                                   |
| Env                                                                                                                                | setPlatformName        | 手动设置当前环境（有时候想在 pc 上模拟 native 环境）                                                                                                        |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | getPlatFormName        | 获取当前运行平台:站内、站外、小程序                                                                                                                         | this\.platFrom = Adapter\.Env\.getPlatFormName\(\)                                                                                                                                                                                                                                                                                                                                            |
|                                                                                                                                    | getNativeAppName       | 异步接口：判断当前在哪个 app：行知、全球通、财富通、浏览器、微信                                                                                            | Adapter\.Env\.getNativeAppName\(\)\.then\(\(res\) => \(this\.nativeName = res\)\)                                                                                                                                                                                                                                                                                                             |
|                                                                                                                                    | isNative               | 判断是否为站内环境                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isH5                   | 判断是否为站外环境                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isWeChat               | 判断是否为微信小程序环境                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isMobile               | 判断是否为移动设备，包括手机、pad                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isAndroid              | 判断是否为 android 平台                                                                                                                                     |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIOS10                | \[isIOS10  判断是否为 IOS 10\]                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isWP                   | 判断是否为 Windows Phone 平台                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIPhone               | 判断是否为 iphone                                                                                                                                           |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIphoneX              | 判断是否是 iphonex                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIphoneXSMax          | 判断是否是 xs                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIphoneXR             | 判断是否是 xr                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isIPad                 | 判断是否为 ipad                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isWeibo                | 判断是否为 weibo                                                                                                                                            |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | isQQ                   | 判断是否为 qq                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                               |
| Talkingdata                                                                                                                        |                        |                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    |                        |                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                               |
| Utils                                                                                                                              | isValidVersion         | 判断是否是合法版本字符串                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | versionValue           | 把版本号转为数字，便于比较;计算方法：主版本差 1 计 10000，次版本差 1 计 100，小版本差 1 计 1\*  比如：3\.0\.2  计算为： 3 \* 10000 \+ 0 \* 100 \+ 2 = 30002 |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | versionCompare         | 版本比较                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | getUrlParameter        | 获取 url 参数值                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | formatMoney            | 格式化金额\*  比如：formatMoney\("138000\.245"\)  或  formatMoney\(138000\.245\) = "138,000\.25"                                                            |                                                                                                                                                                                                                                                                                                                                                                                               |
| getNative\(\)： 会提示只有在「行知/财富通/全球通」环境才能获取到此接口；相对比较封闭，方法由其他模块到处，这里介绍常用的几个方法； | setWebTitle            | 设置原生标题                                                                                                                                                | Adapter\.getNative\(\)\.Bridge\.setWebTitle\('7\.0\.0','测试修改主标题','副标题'\)                                                                                                                                                                                                                                                                                                            |
| 其他方法根据需求持续加入                                                                                                           | signNatureKH           | 手写签名原生   开户业务使用                                                                                                                                 | Adapter\.getNative\(\)\.CFT\.signNatureKH\(\{url: '',val: 'globalsignature',idNo: '1234',showSignature: 1\}\)                                                                                                                                                                                                                                                                                 |
|                                                                                                                                    | takePhoto              | 原生调用摄像头   拍照                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | scanBankCard           | 原生扫描银行卡                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | faceDetection          | 活体检测                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | changeFontSize         | 设置字体大小                                                                                                                                                |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | getPhoneBook           | 获取本地通讯录                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                               |
|                                                                                                                                    | biometric              | 生物识别                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                               |
